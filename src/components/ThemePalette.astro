---
// ThemeSelector.astro
---
<div class="relative inline-block">
  <button
    onclick="toggleThemeMenu()"
    class="w-10 h-10 p-2 rounded-full border border-[var(--color-border)] bg-[var(--color-surface)] text-[var(--color-text)]"
    aria-label="Open theme menu"
  >
    <!-- Palette icon -->
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="w-6 h-6"
      fill="currentColor"
      viewBox="0 0 24 24"
    >
      <path
        d="M12 2C6.49 2 2 6.03 2 11c0 3.87 3.13 7 7 7h1v1c0 1.1.9 2 2 2s2-.9 2-2v-1h1c3.87 0 7-3.13 7-7 0-4.97-4.49-9-10-9Zm-5 9c-.83 0-1.5-.67-1.5-1.5S6.17 8 7 8s1.5.67 1.5 1.5S7.83 11 7 11Zm3 4c-.83 0-1.5-.67-1.5-1.5S9.17 12 10 12s1.5.67 1.5 1.5S10.83 15 10 15Zm4 0c-.83 0-1.5-.67-1.5-1.5S13.17 12 14 12s1.5.67 1.5 1.5S14.83 15 14 15Zm3-4c-.83 0-1.5-.67-1.5-1.5S16.17 8 17 8s1.5.67 1.5 1.5S17.83 11 17 11Z"
      />
    </svg>
  </button>

  <!-- Theme menu -->
  <ul
    id="theme-menu"
    class="hidden absolute right-0 mt-2 w-48 bg-[var(--color-surface)] border border-[var(--color-border)] text-[var(--color-text)] rounded shadow-md z-10"
  >
    {[
      'main', 'main-light',
      'academic', 'academic-light',
      'elegant', 'elegant-light',
      'ice', 'ice-light',
      'light', 'dark'
    ].map(theme => (
      <li>
        <button
          onclick={`setTheme('${theme}')`}
          class="block w-full text-left px-4 py-2 hover:bg-[var(--color-hover)]"
        >
          {theme}
        </button>
      </li>
    ))}
  </ul>
</div>
